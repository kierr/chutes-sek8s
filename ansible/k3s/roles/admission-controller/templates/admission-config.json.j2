{
  "bind_address": "{{ admission_bind_address | default('127.0.0.1') }}",
  "port": "{{ admission_port | default(8443) }}",
  "tls_cert_path": "/etc/admission-controller/certs/server.crt",
  "tls_key_path": "/etc/admission-controller/certs/server.key",
  "opa_url": "{{ opa_url | default('http://localhost:8181') }}",
  "opa_timeout": "{{ opa_timeout | default(5.0) }}",
  "policy_path": "/etc/opa/policies",
  "allowed_registries": {{ allowed_registries | to_json }},
  "cache_enabled": "{{ cache_enabled | default(true) | lower }}",
  "cache_ttl": "{{ cache_ttl | default(300) }}",
  "enforcement_mode": "{{ enforcement_mode | default('enforce') }}",
  "namespace_policies": {
    "kube-system": {
      "mode": "warn",
      "exempt": false
    },
    "kube-public": {
      "mode": "warn",
      "exempt": false
    },
    "kube-node-lease": {
      "mode": "warn",
      "exempt": false
    },
    "gpu-operator": {
      "mode": "warn",
      "exempt": false
    },
    "chutes": {
      "mode": "enforce",
      "exempt": false
    },
    "default": {
      "mode": "enforce",
      "exempt": false
    }
  },
  "debug": "{{ debug_mode | default(false) | lower }}",
  "metrics_enabled": "{{ metrics_enabled | default(true) | lower }}"
}